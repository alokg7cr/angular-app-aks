<app-loader *ngIf="isLoading"></app-loader>
<div class="sticky">
    <app-header ></app-header>
    </div>
    <div *ngIf='!checkOutBtn'>
        <h1>Your Cart is Empty!!</h1>
    </div>
        <div style="width:93%;margin-left: 3%;" *ngFor='let prod of prodList'>    
        <mat-card style="background-color:gainsboro;text-align: center;" >
       <h1><b>{{prod.name}}</b></h1>
       <img src={{prod.imagePath}} alt="imagenotfound" style="height:100px;width:100px;">
       <div style="width:80%;margin:0 auto">
        <h3><b>Price:{{prod.price}}</b></h3>
        <h5><b>Description:- {{prod.productDescription}}</b></h5>
        <button title="Remove from cart" (click)="openDialog(prod)" style="color: red;">
            <span class="material-icons">
                delete
                </span>
        </button>
        <button title="Add to wishlist" (click)="openDialog(prod)" style="color: lightskyblue;margin-left: 5px;">
            <span class="material-icons">
                drafts
                </span>
        </button>
    </div>
    </mat-card>
    <br/>
</div>
   <button *ngIf='checkOutBtn' style="margin-left: 46%;" class="btn btn-primary" data-toggle="modal" data-target="#myModalProd" (click)='getCartDetails()'>Checkout</button>




    <!-- The Modal -->
    <div class="modal fade  align-items-center" id="myModalProd" >
        <div class="modal-dialog">
          <div class="modal-content">
          
            <!-- Modal Header -->
            <div class="modal-header justify-content-center">
              <h2 class="modal-title" >Product Details</h2>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
         
            </div>
            <h3 style="text-align: center;"><b>You have total {{productCount}} items to buy!!</b></h3>
            <!-- Modal body -->
            <div class="modal-body" style="width: 100%;">
                <div style="width:100%;height:20%;" *ngFor='let prod of checkOutProd'>    
                    <mat-card style="background-color:gainsboro;text-align: center;" >
                   <h1><b>{{prod.name}}</b></h1>
                   <img src={{prod.imagePath}} alt="imagenotfound" style="height:100px;width:100px;">
                   <div style="width:80%;margin:0 auto">
                    <h3><b>Price:{{prod.price}}</b></h3>
                    <h5><b>Description:- {{prod.productDescription}}</b></h5>
                </div>
                </mat-card>
                <br/>
            </div>
            </div>
            <h1 style="margin-left: 10px;"><b>Total Amount:- {{amountTobePaid}}</b></h1>
            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal" (click)='placeOrder()'>Place Order</button>
            </div>
            
          </div>
        </div>
      </div>
      